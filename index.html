<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSP: Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self'; 
        img-src 'self' https: data: blob:; 
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://unpkg.com; 
        font-src 'self' https://fonts.gstatic.com; 
        script-src 'self' 'unsafe-inline' https://unpkg.com https://cdnjs.cloudflare.com; 
        connect-src 'self'; 
        object-src 'none'; 
        frame-ancestors 'none';">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <title>Sudip Mandal | GeoSpatial Insights Lab</title>
    <meta name="description" content="Portfolio of Sudip Mandal - Integrating satellite data and machine learning to solve real-world environmental challenges.">
    <meta name="keywords" content="GIS, Remote Sensing, AI, GeoAI, Python, Portfolio, Kolkata, Sudip Mandal">
    <meta property="og:title" content="Sudip Mandal | GeoAI Portfolio">
    <meta property="og:description" content="Bridging GeoAI and Earth Science.">
    <meta property="og:type" content="website">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Poppins:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous" />
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@0.292.0/dist/umd/lucide.min.js"></script>
    
    <!-- html2pdf Library (Corrected Integrity) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" xintegrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        /* --- 4. OFFICIAL COLOR PALETTE & VARIABLES --- */
        :root {
            --navy: #0A1A2F;
            --navy-light: #112240;
            --emerald: #1DB954;
            --emerald-hover: #1ed760;
            --gray: #E5E5E5;
            --slate: #8892b0;
            --white: #FAFAFA;
            --cyan: #00C2FF;
            --font-head: 'Poppins', sans-serif;
            --font-body: 'Roboto', sans-serif;
            --font-code: 'Fira Code', monospace;
            --transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background-color: var(--white);
            color: var(--navy);
            font-family: var(--font-body);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;
        }

        img { pointer-events: none; -webkit-user-drag: none; }

        @media print {
            html, body { display: none !important; height: 0; overflow: hidden; }
        }

        a { text-decoration: none; color: inherit; transition: var(--transition); }
        ul { list-style: none; }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-head);
            color: var(--navy);
            font-weight: 700;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section-padding { padding: 80px 0; }
        .code-font { font-family: var(--font-code); }
        .text-emerald { color: var(--emerald); }
        .text-cyan { color: var(--cyan); }

        /* --- BUTTONS --- */
        .btn {
            display: inline-block; padding: 12px 24px; border-radius: 4px;
            font-family: var(--font-code); font-size: 14px; font-weight: 500;
            cursor: pointer; transition: var(--transition); border: none;
        }
        .btn-primary { background-color: transparent; color: var(--emerald); border: 1px solid var(--emerald); }
        .btn-primary:hover { background-color: rgba(29, 185, 84, 0.1); transform: translateY(-2px); }
        .btn-filled { background-color: var(--emerald); color: #fff; border: 1px solid var(--emerald); }
        .btn-filled:hover { background-color: var(--emerald-hover); transform: translateY(-2px); }

        /* --- NAVIGATION --- */
        header {
            background-color: var(--navy); height: 80px; position: fixed; width: 100%; top: 0; z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        nav { display: flex; justify-content: space-between; align-items: center; height: 100%; }
        .logo { font-family: var(--font-code); font-size: 1.5rem; color: var(--emerald); font-weight: 700; letter-spacing: -1px; }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a { color: var(--gray); font-size: 14px; font-family: var(--font-code); }
        .nav-links a:hover, .nav-links a.active { color: var(--emerald); }
        .mobile-toggle { display: none; color: var(--white); cursor: pointer; }

        /* --- HERO SECTION --- */
        #hero {
            height: 100vh;
            display: flex;
            align-items: center;
            background: linear-gradient(rgba(10, 26, 47, 0.65), rgba(10, 26, 47, 0.65)), 
                        url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80') center/cover;
            color: var(--white);
            padding-top: 80px;
        }
        .hero-content { max-width: 800px; }
        .hero-pre { font-family: var(--font-code); color: var(--emerald); margin-bottom: 20px; display: block; }
        .hero-title { font-size: clamp(40px, 8vw, 70px); line-height: 1.1; color: var(--white); margin-bottom: 20px; }
        .hero-subtitle { font-size: clamp(24px, 4vw, 36px); color: var(--gray); line-height: 1.3; margin-bottom: 30px; font-weight: 500; }
        .hero-desc { max-width: 600px; color: #ccc; margin-bottom: 40px; font-size: 18px; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }

        /* --- SECTION TITLES --- */
        .section-title { display: flex; align-items: center; font-size: 26px; margin-bottom: 40px; white-space: nowrap; }
        .section-title::before { content: "0" counter(section) "."; counter-increment: section; margin-right: 10px; color: var(--emerald); font-family: var(--font-code); font-size: 20px; font-weight: 400; }
        .section-title::after { content: ""; display: block; width: 300px; height: 1px; background-color: var(--navy-light); margin-left: 20px; opacity: 0.3; }

        /* --- GRIDS & CARDS --- */
        .skills-grid, .cert-grid, .resources-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        
        .skill-card, .cert-card, .resource-card {
            background: #fff; padding: 25px; border-radius: 8px;
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.1);
            border-top: 3px solid var(--emerald); transition: var(--transition);
        }
        .skill-card:hover, .cert-card:hover, .resource-card:hover { transform: translateY(-5px); }
        .skill-icon { color: var(--emerald); margin-bottom: 15px; }
        .skill-tags { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px; }
        .tag { font-family: var(--font-code); font-size: 12px; background: rgba(0, 194, 255, 0.1); color: var(--navy); padding: 5px 10px; border-radius: 20px; }

        .cert-card { border-left: 4px solid var(--emerald); border-top: none; }
        .cert-issuer { font-size: 12px; font-family: var(--font-code); color: var(--slate); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        .cert-title { font-size: 16px; font-weight: 600; margin-bottom: 10px; color: var(--navy); }
        .cert-skills { font-size: 13px; color: #666; line-height: 1.5; }

        /* --- PROJECTS --- */
        .project-card { display: grid; grid-template-columns: 1.5fr 1fr; gap: 20px; margin-bottom: 80px; align-items: center; }
        .project-img { position: relative; border-radius: 4px; overflow: hidden; box-shadow: 0 20px 30px -15px rgba(2,12,27,0.3); }
        .project-img img { width: 100%; height: auto; display: block; transition: var(--transition); }
        /* Removed grayscale filter so image shows in full color */
        .project-img:hover img { transform: scale(1.03); }
        .project-content { position: relative; z-index: 2; }
        .project-overline { color: var(--emerald); font-family: var(--font-code); font-size: 13px; margin-bottom: 10px; display: block; }
        .project-title { margin-bottom: 20px; font-size: 24px; }
        .project-desc-box { background-color: var(--navy-light); color: var(--gray); padding: 25px; border-radius: 4px; font-size: 15px; margin-bottom: 20px; box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7); }
        .project-tech { font-family: var(--font-code); font-size: 13px; color: var(--slate); margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 15px; }

        /* --- MAP & CONTACT --- */
        #map-container { height: 350px; width: 100%; border-radius: 8px; margin-bottom: 30px; z-index: 1; border: 1px solid var(--gray); }
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        
        .india-flag-icon {
            border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            background: linear-gradient(to bottom, #FF9933 33%, #FFFFFF 33%, #FFFFFF 66%, #138808 66%);
            display: flex; justify-content: center; align-items: center;
        }
        .india-flag-icon::after { content: '☸'; color: #000080; font-size: 20px; line-height: 0; margin-top: -1px; }
        .emerald-icon { background-color: var(--emerald); border: 2px solid #fff; border-radius: 50%; box-shadow: 0 4px 10px rgba(29, 185, 84, 0.4); }

        /* --- MODALS --- */
        #welcome-modal, #article-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; display: flex; justify-content: center; align-items: center; }
        #welcome-modal { background: rgba(10, 26, 47, 0.85); transition: opacity 0.5s ease; }
        #article-modal { background: rgba(10, 26, 47, 0.9); z-index: 2001; display: none; backdrop-filter: blur(5px); }
        
        .modal-content, .article-content { background: var(--white); border-radius: 8px; position: relative; }
        .modal-content { padding: 40px; text-align: center; max-width: 400px; width: 90%; border-top: 5px solid var(--emerald); }
        .article-content { width: 90%; max-width: 800px; max-height: 90vh; overflow-y: auto; padding: 50px; color: var(--navy); box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        
        .modal-greeting { font-size: 32px; font-weight: 700; color: var(--navy); margin-bottom: 10px; }
        .modal-close { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: var(--slate); }

        /* --- CV TEMPLATE (HIDDEN INITIALLY) --- */
        #cv-template {
            display: none; 
            width: 800px;
            font-family: 'Roboto', sans-serif; 
            color: #333; 
            background: #fff; 
            padding: 40px; 
            line-height: 1.5; 
        }
        #cv-template h1 { color: var(--navy); margin-bottom: 5px; font-family: 'Poppins', sans-serif; }
        #cv-template h2 { color: var(--emerald); font-size: 18px; margin-bottom: 20px; font-family: 'Fira Code', monospace; }
        #cv-template h3 { background: var(--navy); color: #fff; padding: 5px 10px; font-size: 16px; margin-top: 25px; margin-bottom: 15px; font-family: 'Poppins', sans-serif; }
        #cv-template p { font-size: 14px; margin-bottom: 10px; }
        #cv-template ul { list-style: none; margin: 0; padding: 0; }
        #cv-template li { font-size: 14px; margin-bottom: 8px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .cv-watermark { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-45deg); font-size: 80px; color: rgba(0,0,0,0.05); font-weight: bold; pointer-events: none; z-index: 0; white-space: nowrap; }

        footer { background-color: var(--navy); color: var(--slate); padding: 20px 0; text-align: center; font-family: var(--font-code); font-size: 13px; }

        @media (max-width: 768px) {
            .mobile-toggle { display: block; }
            .nav-links { position: fixed; top: 0; right: -100%; height: 100vh; width: 70%; background: var(--navy-light); flex-direction: column; justify-content: center; transition: 0.3s; box-shadow: -5px 0 15px rgba(0,0,0,0.3); }
            .nav-links.active { right: 0; }
            .project-card { grid-template-columns: 1fr; }
            .project-img { margin-bottom: 20px; }
            .contact-grid { grid-template-columns: 1fr; }
            .hero-title { font-size: 40px; }
            .article-content { padding: 30px; }
        }
    </style>
</head>
<body>

    <!-- 11. WELCOME POPUP -->
    <div id="welcome-modal">
        <div class="modal-content">
            <span class="modal-close" id="modal-close-x">&times;</span>
            <div id="greeting-text" class="modal-greeting">Welcome</div>
            <p>Welcome to GeoSpatial Insights Lab. Exploring GIS, Remote Sensing, and GeoAI.</p>
            <br>
            <button class="btn btn-filled" id="modal-enter-btn">Enter Site</button>
        </div>
    </div>

    <!-- ARTICLE MODAL -->
    <div id="article-modal">
        <div class="article-content">
            <span class="modal-close" id="article-close-x">&times;</span>
            <div class="article-body">
                <h2>Bridging GeoAI and Earth Science: My Journey and Vision</h2>
                <p style="font-family: var(--font-code); font-size: 13px; color: var(--slate); margin-bottom: 25px;">Key Initiative | Sudip Mandal</p>
                <div id="article-dynamic-content"></div>
                <br>
                <button class="btn btn-primary" id="article-close-btn">Close Article</button>
            </div>
        </div>
    </div>

    <!-- CV TEMPLATE -->
    <div id="cv-template">
        <div class="cv-watermark">GEOSPATIAL INSIGHTS</div>
        <h1 id="cv-name"></h1>
        <h2 id="cv-tagline"></h2>
        <div style="margin-bottom: 20px; font-size: 13px; color: #555;">
            <span id="cv-email"></span> | <span id="cv-location"></span>
        </div>
        <h3>Profile</h3>
        <p id="cv-about"></p>
        <h3>Technical Skills</h3>
        <ul id="cv-skills"></ul>
        <h3>Courses & Certifications</h3>
        <ul id="cv-courses"></ul>
        <h3>Featured Projects</h3>
        <ul id="cv-projects"></ul>
        <div style="margin-top: 40px; border-top: 1px solid #ddd; padding-top: 10px; font-size: 11px; color: #777; text-align: center;">
            Generated from GeoSpatial Insights Lab Portfolio | Protected Document
        </div>
    </div>

    <!-- NAVIGATION -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">GEOSPATIALINSIGHTS</div>
                <div class="mobile-toggle" id="mobile-toggle-btn"><i data-lucide="menu"></i></div>
                <ul class="nav-links" id="navLinks">
                    <li><a href="#about" class="nav-item">About</a></li>
                    <li><a href="#skills" class="nav-item">Skills</a></li>
                    <li><a href="#courses" class="nav-item">Courses</a></li>
                    <li><a href="#projects" class="nav-item">Projects</a></li>
                    <li><a href="#resources" class="nav-item">Resources</a></li>
                    <li><a href="#contact" class="nav-item">Contact</a></li>
                    <li><a href="#" class="btn btn-primary" id="download-cv-btn" style="margin-left: 10px;">Download CV</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- HERO SECTION -->
        <section id="hero">
            <div class="container hero-content">
                <span class="hero-pre">Hi, my name is</span>
                <h1 class="hero-title" id="hero-name"></h1>
                <h2 class="hero-subtitle" id="hero-tagline"></h2>
                <p class="hero-desc" id="hero-desc"></p>
                <a href="#projects" class="btn btn-primary">My Work</a>
                <a href="#contact" class="btn btn-filled">Contact Me</a>
            </div>
        </section>

        <!-- ABOUT SECTION -->
        <section id="about" class="section-padding">
            <div class="container">
                <h2 class="section-title">About Me</h2>
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 40px;">
                    <div id="about-text"></div>
                    <div style="position: relative;">
                         <img src="./WhatsApp Image 2025-11-28 at 9.27.31 PM.jpeg" alt="Sudip Mandal" 
                              style="width: 100%; height: auto; border-radius: 8px; border: 3px solid var(--emerald); box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                    </div>
                </div>
            </div>
        </section>

        <!-- SKILLS SECTION -->
        <section id="skills" class="section-padding" style="background-color: #fafafa;">
            <div class="container">
                <h2 class="section-title">Technical Skills</h2>
                <div class="skills-grid" id="skills-grid"></div>
            </div>
        </section>

        <!-- COURSES SECTION -->
        <section id="courses" class="section-padding">
            <div class="container">
                <h2 class="section-title">Courses & Certifications</h2>
                <div class="cert-grid" id="cert-grid"></div>
            </div>
        </section>

        <!-- PROJECTS SECTION -->
        <section id="projects" class="section-padding" style="background-color: #fafafa;">
            <div class="container">
                <h2 class="section-title">Featured Projects</h2>
                <div id="projects-grid"></div>
            </div>
        </section>

        <!-- RESOURCES SECTION -->
        <section id="resources" class="section-padding">
            <div class="container">
                <h2 class="section-title">Resources & Downloads</h2>
                <div class="resources-grid" id="resources-grid"></div>
            </div>
        </section>

        <!-- CONTACT SECTION -->
        <section id="contact" class="section-padding" style="background-color: #fafafa;">
            <div class="container">
                <h2 class="section-title">Get In Touch</h2>
                <div class="contact-grid">
                    <div>
                        <h3 style="font-size: 40px; margin-bottom: 20px;">Let's Map the Future.</h3>
                        <p style="margin-bottom: 30px; color: var(--slate);">Based in <strong>Kolkata, West Bengal</strong>. Open to collaborative projects.</p>
                        <a id="contact-email" href="" class="btn btn-filled" style="margin-bottom: 30px;">Say Hello</a>
                        <div style="display: flex; gap: 20px; margin-top: 20px;">
                            <a href="#" class="text-emerald"><i data-lucide="github"></i></a>
                            <a href="#" class="text-emerald"><i data-lucide="linkedin"></i></a>
                            <a href="#" class="text-emerald"><i data-lucide="mail"></i></a>
                        </div>
                    </div>
                    <div>
                        <p style="font-family: var(--font-code); font-size: 12px; margin-bottom: 5px;">CURRENT LOCATION: KOLKATA (Approximate)</p>
                        <div id="map-container"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>Designed & Built by Sudip Mandal | GeoSpatial Insights Lab</p>
            <p style="opacity: 0.6; margin-top: 5px;"><span style="color: var(--emerald);">v1.7 (Fixed PDF & Images)</span></p>
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>

    <script>
        // =========================================================
        // 1. CENTRAL DATA SOURCE (Edit this to update Site & CV)
        // =========================================================
        const portfolioData = {
            personal: {
                name: "Sudip Mandal",
                tagline: "GeoSpatial Insights Lab | GIS • Remote Sensing • GeoAI",
                heroDesc: "A clean space showcasing my work in GIS, Remote Sensing, GeoAI, and geospatial analysis",
                email: "sudipmandal09@zohomail.in",
                location: "Kolkata, West Bengal",
                about: `I am a Geography student passionate about GIS, Remote Sensing, AI, and GeoAI. I specialize in working with spatial data, satellite imagery, and geospatial technologies to understand patterns, solve problems, and create intelligent solutions.
                
                My interests include geospatial analysis, Earth observation, machine learning, and building tools that combine geography with modern technology. I enjoy learning new skills, experimenting with data, and developing projects that connect maps, coding, and real-world applications.`
            },
            skills: [
                { icon: "globe", title: "GIS & Mapping", desc: "Spatial Analysis, Vector/Raster Data, Cartography, Projections", tags: ["QGIS", "ArcGIS", "Cartography"] },
                { icon: "satellite", title: "Remote Sensing", desc: "Image Correction, Classification, Change Detection, Thermal RS", tags: ["Sentinel", "Landsat", "LiDAR"] },
                { icon: "layers", title: "Software", desc: "Industry standard geospatial software packages", tags: ["QGIS", "ArcGIS Pro", "GEE", "SNAP"] },
                { icon: "code", title: "Coding & Geo-Comp", desc: "Automating workflows and spatial data science", tags: ["Python", "GDAL", "Rasterio", "WebGIS"] },
                { icon: "sprout", title: "Applications", desc: "Real-world environmental problem solving", tags: ["Forestry", "Urban Heat", "Water Res"] }
            ],
            courses: [
                { issuer: "IIRS, ISRO", title: "Overview of GIS", skills: "Basics of GIS, Spatial Data, Map Projections" },
                { issuer: "IIRS, ISRO", title: "RS & GIS in Natural Resource Mgmt", skills: "LULC Classification, Satellite Interpretation" },
                { issuer: "IIRS, ISRO", title: "Laser Remote Sensing (Forests)", skills: "LiDAR Fundamentals, Point Cloud, Biomass" },
                { issuer: "IIRS, ISRO", title: "Thermal Infrared RS (Ecology)", skills: "Surface Temp, Heat-Flux, Urban Heat Islands" },
                { issuer: "IIRS, ISRO", title: "Geocomputation & Geo-web Services", skills: "WebGIS, OGC Services, Cloud GIS Basics" },
                { issuer: "NASA ARSET", title: "Fundamentals of Remote Sensing", skills: "Sensor Types (Optical, Radar), Big Earth Data" }
            ],
            projects: [
                { 
                    title: "Bridging GeoAI and Earth Science: My Journey and Vision",
                    category: "Key Initiative",
                    desc: "A comprehensive record of my learning journey specializing in the integration of GIS, Remote Sensing, and Artificial Intelligence.",
                    tags: ["Deep Learning", "Earth Observation", "Sustainability"],
                    hasStory: true,
                    imageUrl: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80"
                },
                { 
                    title: "Urban Heat Island Prediction",
                    category: "Urban Planning",
                    desc: "A machine learning model trained on Landsat 8 thermal bands to predict urban heat islands in rapidly developing cities.",
                    tags: ["Random Forest", "Landsat 8", "GEE"],
                    hasStory: false,
                    isRightAligned: true
                }
            ],
            resources: [
                { icon: "file-text", title: "Project Presentation", desc: "Bridging GeoAI & Earth Science (PPT)" },
                { icon: "file", title: "Research Abstract", desc: "NDVI Analysis Report (PDF)" },
                { icon: "download", title: "Curriculum Vitae", desc: "Updated CV - Sudip Mandal" }
            ],
            articleContent: `
                <h3>Introduction</h3>
                <p>I am a geography student specialising in the integration of GIS, Remote Sensing, and Artificial Intelligence—an area increasingly recognised as the backbone of modern spatial decision-making. My work revolves around how satellite data, spatial analytics, and machine learning combine to provide insight into real-world environmental and developmental challenges. This space serves as a record of my learning journey, a platform for sharing insights, and a hub for demonstrating how geospatial technology supports research, industry, and policy.</p>
                
                <h3>Why Geography + GeoAI</h3>
                <p>Geography provides the spatial perspective through which to interpret the Earth, while AI brings the computational capability for large-scale pattern analysis, modeling, and prediction. Together, they provide a gateway to practical and high-impact applications: disaster early-warning systems, climate and environmental monitoring, land-use/land-cover modeling, and urban development planning. This intersection is not only academically rich; it is turning into a vital field of innovation for global sustainability endeavors.</p>
                
                <h3>My Journey So Far</h3>
                <p>My interest in geospatial science began with exploring spatial patterns during my undergraduate studies. I have since built a stronger technical base through working with QGIS, ArcGIS, Google Earth Engine, and ESA SNAP, in addition to Python libraries like NumPy, Rasterio, GDAL, and Scikit-learn. This has been used to analyze satellite datasets such as Sentinel and Landsat for NDVI mapping, DEM-based terrain analysis, and basic land-cover classification. Through these experiences, I learned the value of open-source tools, institutional collaboration, and hands-on project-based learning.</p>
                
                <h3>My Goals</h3>
                <ul>
                    <li><strong>Short-term:</strong> Apply for Internships/Project Roles at ISRO, IIRS, research groups, or GeoAI labs within universities for structured exposure.</li>
                    <li><strong>Mid-Term:</strong> Publish work on such subjects as land-cover change detection, climate-risk modeling, and AI-assisted environmental monitoring.</li>
                    <li><strong>Long-term:</strong> Contribute to or establish a GeoAI-driven research lab/startup focusing on sustainability, agriculture, and climate resilience.</li>
                </ul>
                
                <h3>Why Collaborate with Me</h3>
                <p>I bring to the table a strong grounding in geography, practical skills in GIS and satellite data processing, and growing experience in AI-based spatial analysis. My approach is analytical, detail-oriented, and application-focused. I emphasize clear communication, reproducible workflows, and the ability to translate geospatial information into meaningful insights for academic, industry, and policy environments.</p>
                
                <h3>What You Will Find Here</h3>
                <ul>
                    <li>Step-by-step workflows in GIS, Remote Sensing, and GeoAI</li>
                    <li>Project breakdowns and analytical case studies</li>
                    <li>Reflections on academic and internship experiences</li>
                    <li>Discussions on emerging trends in geospatial science and sustainability</li>
                </ul>
                
                <h3>Conclusion</h3>
                <p>This platform reflects my academic growth and professional aspirations in the geospatial domain. It's a site where learning meets application, and where I hope to connect with researchers, institutions, and organisations working toward geospatial innovation and sustainable development.</p>
            `
        };

        // =========================================================
        // 2. RENDER WEBSITE FROM DATA
        // =========================================================
        document.addEventListener('DOMContentLoaded', () => {
            // Render Hero
            document.getElementById('hero-name').textContent = portfolioData.personal.name;
            document.getElementById('hero-tagline').innerHTML = "GeoSpatial Insights Lab<br><span style='color:var(--emerald)'>GIS • Remote Sensing • GeoAI</span>";
            document.getElementById('hero-desc').textContent = portfolioData.personal.heroDesc;
            
            // Render About
            const aboutParagraphs = portfolioData.personal.about.split('\n\n');
            let aboutHtml = '';
            aboutParagraphs.forEach(p => aboutHtml += `<p style="margin-bottom: 15px;">${p}</p>`);
            aboutHtml += `<p>Here are a few technologies I've been working with recently:</p>
                        <ul class="skills-list" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; font-family: var(--font-code); font-size: 13px;">
                            <li><i data-lucide="chevron-right" size="14" style="display:inline; vertical-align:middle;"></i> Python (Rasterio/Geopandas)</li>
                            <li><i data-lucide="chevron-right" size="14" style="display:inline; vertical-align:middle;"></i> QGIS & ArcGIS Pro</li>
                            <li><i data-lucide="chevron-right" size="14" style="display:inline; vertical-align:middle;"></i> Google Earth Engine</li>
                            <li><i data-lucide="chevron-right" size="14" style="display:inline; vertical-align:middle;"></i> Machine Learning (Scikit)</li>
                        </ul>`;
            document.getElementById('about-text').innerHTML = aboutHtml;

            // Render Contact Email
            document.getElementById('contact-email').href = `mailto:${portfolioData.personal.email}`;

            // Render Skills
            const skillsContainer = document.getElementById('skills-grid');
            portfolioData.skills.forEach(skill => {
                let tagsHtml = skill.tags.map(t => `<span class="tag">${t}</span>`).join('');
                skillsContainer.innerHTML += `
                    <div class="skill-card">
                        <div class="skill-icon"><i data-lucide="${skill.icon}"></i></div>
                        <h3>${skill.title}</h3>
                        <p>${skill.desc}</p>
                        <div class="skill-tags">${tagsHtml}</div>
                    </div>`;
            });

            // Render Courses
            const certContainer = document.getElementById('cert-grid');
            portfolioData.courses.forEach(course => {
                certContainer.innerHTML += `
                    <div class="cert-card">
                        <div class="cert-issuer">${course.issuer}</div>
                        <div class="cert-title">${course.title}</div>
                        <div class="cert-skills">${course.skills}</div>
                    </div>`;
            });

            // Render Projects
            const projContainer = document.getElementById('projects-grid');
            portfolioData.projects.forEach(proj => {
                let style = proj.isRightAligned ? 'style="direction: rtl;"' : '';
                let contentStyle = proj.isRightAligned ? 'style="direction: ltr; text-align: left;"' : '';
                let tagsHtml = proj.tags.map(t => `<span>${t}</span>`).join('');
                let btnHtml = proj.hasStory ? 
                    `<button class="btn btn-primary" onclick="openArticleModal()" title="Read Article"><i data-lucide="book-open"></i> Read Full Story</button>` : 
                    `<a href="#" class="btn btn-primary" title="View Code"><i data-lucide="github"></i></a>`;
                
                // Image Logic: Use provided URL or fallback placeholder
                let imgContent;
                if (proj.imageUrl) {
                    imgContent = `<img src="${proj.imageUrl}" alt="${proj.title}" style="width: 100%; height: 100%; object-fit: cover;">`;
                } else {
                    imgContent = `<div style="background: #ddd; height: 300px; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: #666; font-family: var(--font-code);">[${proj.title} Image]</span>
                                  </div>`;
                }

                projContainer.innerHTML += `
                    <div class="project-card" ${style}>
                        <div class="project-img">
                             ${imgContent}
                        </div>
                        <div class="project-content" ${contentStyle}>
                            <span class="project-overline">${proj.category}</span>
                            <h3 class="project-title">${proj.title}</h3>
                            <div class="project-desc-box">${proj.desc}</div>
                            <div class="project-tech">${tagsHtml}</div>
                            <div>${btnHtml}</div>
                        </div>
                    </div>`;
            });

            // Render Resources
            const resContainer = document.getElementById('resources-grid');
            portfolioData.resources.forEach(res => {
                resContainer.innerHTML += `
                    <div class="resource-card">
                        <div style="color: var(--emerald); margin-bottom: 10px;"><i data-lucide="${res.icon}" size="40"></i></div>
                        <h4>${res.title}</h4>
                        <p style="font-size: 13px; color: #666; margin-bottom: 15px;">${res.desc}</p>
                        <a href="#" class="btn btn-primary" style="font-size: 12px;">Download</a>
                    </div>`;
            });

            // Article Content
            document.getElementById('article-dynamic-content').innerHTML = portfolioData.articleContent;

            // Re-run Icons
            lucide.createIcons();
            
            // --- EVENT LISTENERS ---
            setupEventListeners();
        });

        // =========================================================
        // 3. GENERATE CV FROM DATA (UPDATED TO FIX BLANK PDF)
        // =========================================================
        function generateCV() {
            // Populate CV Template from Data Object
            document.getElementById('cv-name').textContent = portfolioData.personal.name;
            document.getElementById('cv-tagline').textContent = portfolioData.personal.tagline;
            document.getElementById('cv-email').textContent = portfolioData.personal.email;
            document.getElementById('cv-location').textContent = portfolioData.personal.location;
            document.getElementById('cv-about').textContent = portfolioData.personal.about; // Plain text for CV

            // CV Skills
            let skillsHtml = '';
            portfolioData.skills.forEach(s => skillsHtml += `<li><strong>${s.title}:</strong> ${s.desc}</li>`);
            document.getElementById('cv-skills').innerHTML = skillsHtml;

            // CV Courses
            let coursesHtml = '';
            portfolioData.courses.forEach(c => coursesHtml += `<li><strong>${c.title}</strong> (${c.issuer}) - ${c.skills}</li>`);
            document.getElementById('cv-courses').innerHTML = coursesHtml;

            // CV Projects
            let projHtml = '';
            portfolioData.projects.forEach(p => projHtml += `<li><strong>${p.title}:</strong> ${p.desc}</li>`);
            document.getElementById('cv-projects').innerHTML = projHtml;

            // Generate PDF
            const element = document.getElementById('cv-template');
            
            // Fix for blank PDF: Make element temporarily visible on top
            element.style.display = 'block';
            element.style.position = 'absolute';
            element.style.left = '0';
            element.style.top = '0';
            element.style.zIndex = '9999';

            const opt = {
                margin:       0.5,
                filename:     'Sudip_Mandal_CV.pdf',
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2 },
                jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
            };

            html2pdf().set(opt).from(element).save().then(function() {
                // Hide again after download
                element.style.display = 'none';
            });
        }

        function setupEventListeners() {
            // Mobile Menu
            const mobileToggle = document.getElementById('mobile-toggle-btn');
            const navLinks = document.getElementById('navLinks');
            const navItems = document.querySelectorAll('.nav-item');
            function toggleMenu() { navLinks.classList.toggle('active'); }
            if(mobileToggle) mobileToggle.addEventListener('click', toggleMenu);
            navItems.forEach(item => item.addEventListener('click', () => { if(navLinks.classList.contains('active')) toggleMenu(); }));

            // Welcome Modal
            const welcomeModal = document.getElementById('welcome-modal');
            const modalEnterBtn = document.getElementById('modal-enter-btn');
            const modalCloseX = document.getElementById('modal-close-x');
            const greetingElement = document.getElementById('greeting-text');
            if (greetingElement) greetingElement.innerHTML = "Welcome <span style='color:var(--emerald)'>&bull;</span> नमस्ते <span style='color:var(--emerald)'>&bull;</span> নমস্কার";
            
            function closeModal() {
                welcomeModal.style.opacity = '0';
                setTimeout(() => { welcomeModal.style.display = 'none'; initMap(); }, 500);
            }
            if(modalEnterBtn) modalEnterBtn.addEventListener('click', closeModal);
            if(modalCloseX) modalCloseX.addEventListener('click', closeModal);

            // Article Modal
            const articleModal = document.getElementById('article-modal');
            const articleCloseX = document.getElementById('article-close-x');
            const articleCloseBtn = document.getElementById('article-close-btn');
            
            window.openArticleModal = function() { articleModal.style.display = 'flex'; };
            function closeArticleModal() { articleModal.style.display = 'none'; }
            if(articleCloseX) articleCloseX.addEventListener('click', closeArticleModal);
            if(articleCloseBtn) articleCloseBtn.addEventListener('click', closeArticleModal);

            // CV Download
            const downloadCvBtn = document.getElementById('download-cv-btn');
            if(downloadCvBtn) {
                downloadCvBtn.addEventListener('click', function(e) { e.preventDefault(); generateCV(); });
            }

            // Privacy
            document.addEventListener('contextmenu', event => event.preventDefault());
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey && (e.key === 'c' || e.key === 'C' || e.key === 's' || e.key === 'S' || e.key === 'u' || e.key === 'U' || e.key === 'p' || e.key === 'P')) || e.key === 'F12') {
                    e.preventDefault(); return false;
                }
            });
            document.addEventListener('copy', function(e) { e.preventDefault(); if (e.clipboardData) { e.clipboardData.setData('text/plain', ''); } });

            // Scroll Animation
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => { if (entry.isIntersecting) { entry.target.classList.add('show'); } });
            });
            setTimeout(() => {
                const hiddenElements = document.querySelectorAll('.project-card, .skill-card, .resource-card, .cert-card');
                hiddenElements.forEach((el) => observer.observe(el));
            }, 500); // Wait for dynamic render
        }

        // --- MAP SETUP ---
        function initMap() {
            var kolkataCoords = [22.5726, 88.3639];
            var pokCoords = [35.8819, 74.4643]; 
            var aksaiChinCoords = [35.1689, 79.3789];

            var map = L.map('map-container').setView(kolkataCoords, 5);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap', subdomains: 'abc', maxZoom: 20 }).addTo(map);

            var emeraldIcon = L.divIcon({ className: 'emerald-icon', iconSize: [16, 16], iconAnchor: [8, 8] });
            L.marker(kolkataCoords, { icon: emeraldIcon }).addTo(map).bindPopup('<b>Sudip Mandal</b><br>Kolkata, West Bengal').openPopup();
            L.circle(kolkataCoords, { color: '#1DB954', fillColor: '#1DB954', fillOpacity: 0.1, radius: 15000 }).addTo(map);

            var flagIcon = L.divIcon({ className: 'india-flag-icon', iconSize: [30, 20], iconAnchor: [15, 10] });
            L.marker(pokCoords, { icon: flagIcon }).addTo(map).bindPopup('<b>Indian Territory (PoK)</b><br>Under Illegal Occupation');
            L.marker(aksaiChinCoords, { icon: flagIcon }).addTo(map).bindPopup('<b>Indian Territory (COK)</b><br>Under Illegal Occupation');
        }
    </script>
</body>
</html>
